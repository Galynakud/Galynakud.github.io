<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–†–µ—Å—É—Ä—Å–∏ –º—ñ—Å—Ç–∞ - –°–∏–º—É–ª—è—Ç–æ—Ä –º—ñ—Å—Ç–∞</title>
    <link rel="stylesheet" href="styles.css">
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const materialPrices = {
                brick: 500, wood: 300, steel: 100, sand: 200, glass: 150, slate: 120
            };
    
            const maxResources = {
                brick: 20000, wood: 10000, steel: 50000, sand: 15000, glass: 5000, slate: 8000
            };
    
            const buildingMaterials = {
                house: { brick: 66, wood: 6, steel: 3, sand: 17, glass: 6, slate: 40 },
                factory: { brick: 0, wood: 0, steel: 10, sand: 0, glass: 14, slate: 73 },
                hotel: { brick: 92, wood: 0, steel: 0, sand: 4, glass: 18, slate: 14 },
                school: { brick: 0, wood: 0, steel: 85, sand: 16, glass: 27, slate: 32 }
            };
    
            let resources = { ...maxResources };
            let budget = 10000000;
            
            function updateProgressBar(material) {
                const bar = document.getElementById(material + "-bar");
                const percentage = (resources[material] / maxResources[material]) * 100;
                bar.style.width = percentage + "%";
                bar.textContent = percentage.toFixed(2) + "%";
                document.getElementById(material).textContent = resources[material];
            }
    
            function updateBudgetProgress() {
                const bar = document.getElementById("budget-bar");
                const percentage = (budget / 10000000) * 100;
                bar.style.width = percentage + "%";
                bar.textContent = percentage.toFixed(2) + "%";
                document.getElementById("budget").textContent = budget.toLocaleString();
            }
    
            function calculateTotalCost() {
                const used = (id) => parseInt(document.getElementById(id).value) || 0;
                const total = used("brick-used") * materialPrices.brick +
                            used("wood-used") * materialPrices.wood +
                            used("steel-used") * materialPrices.steel +
                            used("sand-used") * materialPrices.sand +
                            used("glass-used") * materialPrices.glass +
                            used("slate-used") * materialPrices.slate;
                document.getElementById("cost").textContent = total.toLocaleString() + " $";
                return total;
            }
    
            document.getElementById("building-type").addEventListener("change", function () {
                const type = this.value;
                if (buildingMaterials[type]) {
                    const mat = buildingMaterials[type];
                    for (const key in mat) {
                        document.getElementById(key + "-used").value = mat[key];
                    }
                    calculateTotalCost();
                }
            });
    
            document.querySelectorAll(".used-input").forEach(input => {
                input.addEventListener("input", calculateTotalCost);
            });
    
            document.getElementById("payButton").addEventListener("click", function () {
                const total = calculateTotalCost();
                if (total > budget) {
                    alert("‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –∫–æ—à—Ç—ñ–≤.");
                    return;
                }
    
                const check = key => parseInt(document.getElementById(key + "-used").value) || 0;
                for (const key in resources) {
                    if (check(key) > resources[key]) {
                        alert("‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ —Ä–µ—Å—É—Ä—Å—É: " + key);
                        return;
                    }
                }
    
                document.getElementById("confirmation-modal").style.display = "flex";
            });
    
            document.getElementById("confirm-pay-button").addEventListener("click", function () {
                const used = key => parseInt(document.getElementById(key + "-used").value) || 0;
                const totalCost = calculateTotalCost();
    
                budget -= totalCost;
                for (const key in resources) {
                    resources[key] -= used(key);
                    updateProgressBar(key);
                }
                updateBudgetProgress();
    
                alert("‚úÖ –û–ø–ª–∞—Ç–∞ –ø—Ä–æ–≤–µ–¥–µ–Ω–∞!");
                document.getElementById("confirmation-modal").style.display = "none";
                document.getElementById("feedback-section").style.display = "block";
            });
    
            document.getElementById("cancel-pay-button").addEventListener("click", () => {
                document.getElementById("confirmation-modal").style.display = "none";
            });
    
            // üéâ –ö–æ–¥ –¥–ª—è –∑–±–∏—Ä–∞–Ω–Ω—è —Ñ—ñ–¥–±–µ–∫—É —á–µ—Ä–µ–∑ –µ–º–æ–¥–∑—ñ
            let selectedFeedback = null;
    
            document.querySelectorAll(".emoji-option").forEach(emoji => {
                emoji.addEventListener("click", function () {
                    selectedFeedback = this.getAttribute("data-feedback");
    
                    // –ü—ñ–¥—Å–≤—ñ—á—É—î–º–æ –≤–∏–±—Ä–∞–Ω–µ –µ–º–æ–¥–∑—ñ
                    document.querySelectorAll(".emoji-option").forEach(e => {
                        e.style.border = "none";
                        e.style.transform = "scale(1)";
                    });
                    this.style.border = "2px solid green";
                    this.style.borderRadius = "10px";
                    this.style.transform = "scale(1.2)";
                });
            });
    
            document.getElementById("submit-feedback").addEventListener("click", function () {
    if (!selectedFeedback) {
        alert("–ë—É–¥—å –ª–∞—Å–∫–∞, –æ–±–µ—Ä—ñ—Ç—å –≤–∞—à –≤—ñ–¥–≥—É–∫!");
        return;
    }

    console.log("–í—ñ–¥–≥—É–∫ –Ω–∞ –±—É–¥—ñ–≤–Ω–∏—Ü—Ç–≤–æ:", selectedFeedback); // –ú–æ–∂–Ω–∞ –∑–∞–º—ñ–Ω–∏—Ç–∏ –Ω–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è
    document.getElementById("feedback-section").style.display = "none";
    document.getElementById("thank-you-modal").style.display = "flex"; // –ü–æ–∫–∞–∑—É—î–º–æ –º–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ –ø–æ–¥—è–∫–∏
});

// –ó–∞–∫—Ä–∏—Ç—Ç—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –≤—ñ–∫–Ω–∞ –ø–æ–¥—è–∫–∏
document.getElementById("close-thank-you-modal").addEventListener("click", function () {
    document.getElementById("thank-you-modal").style.display = "none"; // –ó–∞–∫—Ä–∏–≤–∞—î –º–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ
});

});
    </script>
    
</head>
<body>

<header>
    <h1><em>–°–∏–º—É–ª—è—Ç–æ—Ä —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –º—ñ—Å—Ç–æ–º</em></h1>
    <nav>
        <ul class="nav-menu">
            <li><em><a href="index.html">–ì–æ–ª–æ–≤–Ω–∞</a></em></li>
            <li><em><a href="construction.html">–ë—É–¥—ñ–≤–Ω–∏—Ü—Ç–≤–æ</a></em></li>
            <li><em><a href="resources.html">–†–µ—Å—É—Ä—Å–∏ –º—ñ—Å—Ç–∞</a></em></li>
        </ul>
    </nav>
</header>

<main>
    <section id="resources" class="info-section city-style">
        <div class="icon">üí∞</div>
        <div class="text-content">
            <h2>–†–µ—Å—É—Ä—Å–∏ –º—ñ—Å—Ç–∞</h2>
            <p>–û—Å—å –ø–æ—Ç–æ—á–Ω–∏–π –±—é–¥–∂–µ—Ç –º—ñ—Å—Ç–∞, –Ω–∞—è–≤–Ω—ñ –º–∞—Ç–µ—Ä—ñ–∞–ª–∏ —Ç–∞ —ó—Ö –æ–±‚Äô—î–º.</p>
        </div>
    </section>

    <section class="resources-info">
        <h3>–ü–æ—Ç–æ—á–Ω—ñ —Ä–µ—Å—É—Ä—Å–∏</h3>
        <div class="resources-list">
            <div class="resource-item">
                <h4>–ë—é–¥–∂–µ—Ç –º—ñ—Å—Ç–∞:</h4>
                <p>üí≤<span id="budget">10,000,000</span></p>
                <div class="progress-bar"><div class="progress" id="budget-bar" style="width: 100%;">100%</div></div>
            </div>
            <div class="resource-item">
                <h4>–ú–∞—Ç–µ—Ä—ñ–∞–ª–∏:</h4>
                <ul>
                    <li>üß± –¶–µ–≥–ª–∞: <span id="brick">20000</span> –º¬≥</li>
                    <div class="progress-bar"><div class="progress" id="brick-bar" style="width: 100%;">100%</div></div>
                    <li>ü™µ –î–µ—Ä–µ–≤–æ: <span id="wood">10000</span> –º¬≥</li>
                    <div class="progress-bar"><div class="progress" id="wood-bar" style="width: 100%;">100%</div></div>
                    <li>ü™® –°—Ç–∞–ª—å: <span id="steel">50000</span> –º¬≥</li>
                    <div class="progress-bar"><div class="progress" id="steel-bar" style="width: 100%;">100%</div></div>
                    <li>üèñÔ∏è –ü—ñ—Å–æ–∫: <span id="sand">15000</span> –º¬≥</li>
                    <div class="progress-bar"><div class="progress" id="sand-bar" style="width: 100%;">100%</div></div>
                    <li>ü™ü –°–∫–ª–æ: <span id="glass">5000</span> –º¬≥</li>
                    <div class="progress-bar"><div class="progress" id="glass-bar" style="width: 100%;">100%</div></div>
                    <li>ü™∂ –®–∏—Ñ–µ—Ä: <span id="slate">8000</span> –º¬≥</li>
                    <div class="progress-bar"><div class="progress" id="slate-bar" style="width: 100%;">100%</div></div>
                </ul>
            </div>
        </div>
    </section>

    <section class="building-selection">
        <h3>–û–±–µ—Ä—ñ—Ç—å —Ç–∏–ø –±—É–¥—ñ–≤–ª—ñ</h3>
        <div class="select-wrapper">
            <select id="building-type">
                <option value="">-- –û–±–µ—Ä—ñ—Ç—å –±—É–¥—ñ–≤–ª—é --</option>
                <option value="house">–ë—É–¥–∏–Ω–æ–∫</option>
                <option value="factory">–§–∞–±—Ä–∏–∫–∞</option>
                <option value="hotel">–ì–æ—Ç–µ–ª—å</option>
                <option value="school">–®–∫–æ–ª–∞</option>
            </select>
        </div>

    <section class="resources-input">
        <h3>–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω—ñ –º–∞—Ç–µ—Ä—ñ–∞–ª–∏</h3>
        <div class="resource-container">
            <label for="brick-used">üß± –¶–µ–≥–ª–∞: </label>
            <input type="number" id="brick-used" min="0" value="0">
        </div>
        <div class="resource-container">
            <label for="wood-used">ü™µ –î–µ—Ä–µ–≤–æ: </label>
            <input type="number" id="wood-used" min="0" value="0">
        </div>
        <div class="resource-container">
            <label for="steel-used">ü™® –°—Ç–∞–ª—å: </label>
            <input type="number" id="steel-used" min="0" value="0">
        </div>
        <div class="resource-container">
            <label for="sand-used">üèñÔ∏è –ü—ñ—Å–æ–∫: </label>
            <input type="number" id="sand-used" min="0" value="0">
        </div>
        <div class="resource-container">
            <label for="glass-used">ü™ü –°–∫–ª–æ: </label>
            <input type="number" id="glass-used" min="0" value="0">
        </div>
        <div class="resource-container">
            <label for="slate-used">ü™∂ –®–∏—Ñ–µ—Ä: </label>
            <input type="number" id="slate-used" min="0" value="0">
        </div>
    </section>
    </section>

    <section class="construction-cost">
        <h3>–Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –±—É–¥—ñ–≤–Ω–∏—Ü—Ç–≤–æ</h3>
        <p>üî® <strong>–í–∞—Ä—Ç—ñ—Å—Ç—å –±—É–¥—ñ–≤–Ω–∏—Ü—Ç–≤–∞:</strong> <span id="cost">0</span> </p>
        <button class="btn2" id="payButton">–û–ø–ª–∞—Ç–∏—Ç–∏ –±—É–¥—ñ–≤–Ω–∏—Ü—Ç–≤–æ</button>
    </section>

    <!-- –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è -->
    <div id="confirmation-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <h2>–ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –æ–ø–ª–∞—Ç–∏</h2>
            <p>–í–∏ –≥–æ—Ç–æ–≤—ñ –∑–¥—ñ–π—Å–Ω–∏—Ç–∏ –æ–ø–ª–∞—Ç—É –∑–∞ –±—É–¥—ñ–≤–Ω–∏—Ü—Ç–≤–æ?</p>
            <button id="confirm-pay-button">–¢–∞–∫, –æ–ø–ª–∞—Ç–∏—Ç–∏</button>
            <button id="cancel-pay-button">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
        </div>
    </div>
    <section id="feedback-section" style="display: none; text-align: center; margin-top: 20px;">
        <h3>üó£Ô∏è –Ø–∫ –≤–∏ –æ—Ü—ñ–Ω—é—î—Ç–µ —Ü–µ –±—É–¥—ñ–≤–Ω–∏—Ü—Ç–≤–æ?</h3>
        <div id="emoji-feedback" style="font-size: 2rem; margin-bottom: 15px;">
            <span class="emoji-option" data-feedback="good">üòç</span>
            <span class="emoji-option" data-feedback="ok">üôÇ</span>
            <span class="emoji-option" data-feedback="bad">üò°</span>
        </div>
        <div id="feedback-text"></div>
        <button id="submit-feedback" style="padding: 10px 20px; font-size: 1rem;">–ù–∞–¥—ñ—Å–ª–∞—Ç–∏ –≤—ñ–¥–≥—É–∫</button>
    </section>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ –ø–æ–¥—è–∫–∏ -->
    <div id="thank-you-modal" class="modals" style="display: none;">
        <div class="modal-content">
            <h2>–î—è–∫—É—î–º–æ –∑–∞ –≤–∞—à –≤—ñ–¥–≥—É–∫!</h2>
            <p>üéâ –í–∞—à—É –¥—É–º–∫—É –¥—É–∂–µ —Ü—ñ–Ω—É—î–º–æ! –ë—É–¥—å –ª–∞—Å–∫–∞, —Å–ª—ñ–¥–∫—É–π—Ç–µ –∑–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è–º–∏ –≤ –Ω–∞—à–æ–º—É –º—ñ—Å—Ç—ñ.</p>
            <button id="close-thank-you-modal">–ó–∞–∫—Ä–∏—Ç–∏</button>
        </div>
    </div>
</main>

<footer>
    <div class="contact-info">
        <p><strong>–ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è:</strong></p>
        <p>üìû –¢–µ–ª–µ—Ñ–æ–Ω: <a href="tel:+380684292967">+380 (68) 429 29 67</a></p>
        <p>‚úâÔ∏è –ï–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞ –ø–æ—à—Ç–∞: <a href="mailto:galynakud121@gmail.com">galynakud121@gmail.com</a></p>
    </div>
</footer>

</body>
</html>
